<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>typeerror-handling-in-react</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><span data-css-15b13by="" aria-hidden="false">Get started</span></p>
<p><span data-css-15b13by="" aria-hidden="false">Log in</span></p>
<p><img src="../../pluralsight.imgix.net/author/lg/9be54a1d-e543-404c-8736-beb1adf2cc26.jpg" alt="Author avatar" class="jsx-3841407315" /></p>
<p>Kimaru Thagana</p>
<h1 id="typeerror-handling-in-react.js-for-map-function">TypeError Handling in React.js for Map Function</h1>
<h3 id="kimaru-thagana">Kimaru Thagana</h3>
<ul>
<li><p>Oct 8, 2020</p></li>
<li><p>7 Min read</p></li>
<li><p>48,156 Views</p></li>
<li><p>Oct 8, 2020</p></li>
<li><p><span class="jsx-3759398792" itemprop="timeRequired">7 Min</span> read</p></li>
<li><p>48,156 Views</p></li>
</ul>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Front End Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Client-side Frameworks</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">React</span></p>
<p>Introduction</p>
<p>61</p>
<ul>
<li><a href="#module-introduction" class="menu-link">Introduction</a></li>
<li><a href="#module-whythiserroroccurs" class="menu-link">Why This Error Occurs</a></li>
<li><a href="#module-examplescenario" class="menu-link">Example Scenario</a></li>
<li><a href="#module-conclusion" class="menu-link">Conclusion</a></li>
<li><a href="#top" class="menu-link">Top</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>During design and development of frontend interfaces in React.js, working with data from different sources is quite normal and frequent. This data needs to be parsed accurately within your React app. If the data isn’t parsed correctly, you will run into errors, one of these being <span class="jsx-3120878690"><code>Uncaught TypeError: this.props.data.map                                       is not a function</code></span>.</p>
<p>In this tutorial, you will learn why this error occurs and how to fix it. This guide assumes that you have basic knowledge of React.js.</p>
<h2 id="why-this-error-occurs">Why This Error Occurs</h2>
<p>So you have just fetched data from an API in your parent component, and you have passed the data to your child component via props, but trying to parse this data in your child component with the <span class="jsx-3120878690"><code>.map()</code></span> function gives this error: <span class="jsx-3120878690"><code>Uncaught TypeError: this.props.data.map                                       is not a function</code></span>. You have verified that data is being fetched and passed into your child component correctly.</p>
<p>What’s going on?</p>
<p>This error occurs because your data is not an array. The <span class="jsx-3120878690"><code>.map()</code></span> function only works with arrays. First, you’ll need to confirm your data type. Second, you’ll need to transform your data into an array.</p>
<h2 id="example-scenario">Example Scenario</h2>
<p>Assuming you already have a React app set up, the code below simulates a data object fetched from an API. This data will be passed down to your child component. For a refresher on this topic, read <a href="https://app.pluralsight.com/guides/an-introduction-to-child-root-data-passing-in-reactjs">this</a> guide.</p>
<p>You will be using <a href="https://developers.themoviedb.org/4/getting-started/authorization">The Movie Database API</a>. For a detailed guide to parsing JSON data, refer to this <a href="../../app.pluralsight.com/guides/parse-json-data-in-react.html">tutorial</a>.</p>
<p>Here is sample data from the API.</p>
<pre><code>1{
2 &quot;page&quot;: 1,
3 &quot;results&quot;: [{
4         &quot;poster_path&quot;: &quot;/e1mjopzAS2KNsvpbpahQ1a6SkSn.jpg&quot;,
5         &quot;adult&quot;: false,
6         &quot;overview&quot;: &quot;From DC Comics comes the Suicide Squad, an antihero team of incarcerated supervillains who act as deniable assets for the United States government, undertaking high-risk black ops missions in exchange for commuted prison sentences.&quot;,
7         &quot;release_date&quot;: &quot;2016-08-03&quot;,
8         &quot;genre_ids&quot;: [
9             14,
10                28,
11                80
12            ],
13            &quot;id&quot;: 297761,
14            &quot;original_title&quot;: &quot;Suicide Squad&quot;,
15            &quot;original_language&quot;: &quot;en&quot;,
16            &quot;title&quot;: &quot;Suicide Squad&quot;,
17            &quot;backdrop_path&quot;: &quot;/ndlQ2Cuc3cjTL7lTynw6I4boP4S.jpg&quot;,
18            &quot;popularity&quot;: 48.261451,
19            &quot;vote_count&quot;: 1466,
20            &quot;video&quot;: false,
21            &quot;vote_average&quot;: 5.91
22        },
23        {
24            &quot;poster_path&quot;: &quot;/lFSSLTlFozwpaGlO31OoUeirBgQ.jpg&quot;,
25            &quot;adult&quot;: false,
26            &quot;overview&quot;: &quot;The most dangerous former operative of the CIA is drawn out of hiding to uncover hidden truths about his past.&quot;,
27            &quot;release_date&quot;: &quot;2016-07-27&quot;,
28            &quot;genre_ids&quot;: [
29                28,
30                53
31            ],
32            &quot;id&quot;: 324668,
33            &quot;original_title&quot;: &quot;Jason Bourne&quot;,
34            &quot;original_language&quot;: &quot;en&quot;,
35            &quot;title&quot;: &quot;Jason Bourne&quot;,
36            &quot;backdrop_path&quot;: &quot;/AoT2YrJUJlg5vKE3iMOLvHlTd3m.jpg&quot;,
37            &quot;popularity&quot;: 30.690177,
38            &quot;vote_count&quot;: 649,
39            &quot;video&quot;: false,
40            &quot;vote_average&quot;: 5.25
41        },
42        {
43            &quot;poster_path&quot;: &quot;/hU0E130tsGdsYa4K9lc3Xrn5Wyt.jpg&quot;,
44            &quot;adult&quot;: false,
45            &quot;overview&quot;: &quot;One year after outwitting the FBI and winning the public’s adulation with their mind-bending spectacles, the Four Horsemen resurface only to find themselves face to face with a new enemy who enlists them to pull off their most dangerous heist yet.&quot;,
46            &quot;release_date&quot;: &quot;2016-06-02&quot;,
47            &quot;genre_ids&quot;: [
48                28,
49                12,
50                35,
51                80,
52                9648,
53                53
54            ],
55            &quot;id&quot;: 291805,
56            &quot;original_title&quot;: &quot;Now You See Me 2&quot;,
57            &quot;original_language&quot;: &quot;en&quot;,
58            &quot;title&quot;: &quot;Now You See Me 2&quot;,
59            &quot;backdrop_path&quot;: &quot;/zrAO2OOa6s6dQMQ7zsUbDyIBrAP.jpg&quot;,
60            &quot;popularity&quot;: 29.737342,
61            &quot;vote_count&quot;: 684,
62            &quot;video&quot;: false,
63            &quot;vote_average&quot;: 6.64
64        }
65    ]
66
67}</code></pre>
<p>json</p>
<p>Here is a simple React app to simulate fetching data from your API and setting state.</p>
<pre><code>1import React, {Component} from &#39;react&#39;;
2import axios from &#39;axios&#39;
3import &#39;bootstrap/dist/css/bootstrap.min.css&#39;;
4import {Button, Card, Col, Row} from &quot;react-bootstrap&quot;;
5
6
7class App extends Component{
8  constructor(props) {
9    super(props);
10    this.state =({
11      movies: &quot;&quot;
12    })
13  }
14  componentDidMount() {
15    let url = &quot;https://api.themoviedb.org/3/discover/movie?api_key=abc12345&quot;;
16    axios.get(url+&quot;&amp;sort_by=popularity.desc&amp;page=1&quot;)
17        .then(response =&gt; {
18          console.log(response.data.results)
19            this.setState({
20                movies: response.data.results
21            })
22        })
23        .catch(error =&gt; {
24          console.log(error)
25        })
26  }
27}</code></pre>
<p>js</p>
<p>In the sample code above, you have fetched your data from an API and set the <span class="jsx-3120878690"><code>movie</code></span> state to use this data. Notice how you have set the movie state as you will come back to this later.</p>
<p>Finish up by creating a child component and passing your data from <span class="jsx-3120878690"><code>App.js</code></span>, which is the parent component to your child component.</p>
<p>Add this code to your parent component.</p>
<pre><code>1render()
2 {
3       return(
4           &lt;ChildComponent data={this.state.movies}/&gt;
5       )
6    }</code></pre>
<p>js</p>
<p>Here’s how your child component should look.</p>
<pre><code>1import React, {Component} from &quot;react&quot;;
2import {Row,Col, Card} from &quot;react-bootstrap&quot;;
3
4class ChildComponent extends Component{
5    constructor(props) {
6        super(props);
7        
8    }
9
10    render() {
11      
12        return (
13            &lt;Row&gt;
14                {this.props.data.map((movie, index) =&gt; (
15                        &lt;Col key={index} sm={4} md={4} lg={3}&gt;
16                            &lt;Card style={{ width: &#39;18rem&#39; }}&gt;
17                                &lt;Card.Img variant=&quot;top&quot; src={&quot;http://image.tmdb.org/t/p/w300//&quot;+movie.poster_path} /&gt;
18                                &lt;Card.Body&gt;
19                                    &lt;Card.Title&gt;{movie.title}&lt;/Card.Title&gt;
20                                    &lt;Card.Text&gt;
21                                        {movie.overview}
22                                    &lt;/Card.Text&gt;
23                                &lt;/Card.Body&gt;
24                            &lt;/Card&gt;
25                        &lt;/Col&gt;
26                    )
27                )}
28            &lt;/Row&gt;
29        )
30    }
31}
32export default ChildComponent</code></pre>
<p>js</p>
<p>A quick recap: You have simulated a simple app to fetch data from TMDB API and set your state. You have also passed your fetched data to your child component. To parse the data, you have used a React bootstrap card component. If you try running your app, you should receive the error <span class="jsx-3120878690"><code>TypeError: this.props.data.map is not a                                       function</code></span>.</p>
<p>Refer back to where you set your state and the sample API response. You’ll notice that if you set the state as it is with your JSON object, this error occurs. Your <span class="jsx-3120878690"><code>.map()</code></span> function will not work with objects. You will need to enclose your object in an array.</p>
<p>Make a simple change to your state within the parent component: Change <span class="jsx-3120878690"><code>movies: ""</code></span> to <span class="jsx-3120878690"><code>movies: []</code></span>.</p>
<p>Now run your app again. The error disappears, and your data is parsed through correctly.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Being able to understand and debug errors in React is a skill that can be developed by constant practice. React and frontend developer jobs heavily require this skill. To further build on this guide, you can learn more about React contexts on the official <a href="https://reactjs.org/docs/context.html.">React.js site</a></p>
<p>61</p>
<p><a href="https://www.pluralsight.com/product/paths"><span data-css-15b13by="" aria-hidden="false">LEARN MORE</span></a></p>
</body>
</html>
