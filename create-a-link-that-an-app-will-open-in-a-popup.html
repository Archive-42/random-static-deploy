<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>create-a-link-that-an-app-will-open-in-a-popup</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><span data-css-15b13by="" aria-hidden="false">Get started</span></p>
<p><span data-css-15b13by="" aria-hidden="false">Log in</span></p>
<p><img src="../../pluralsight.imgix.net/author/lg/c7859b4f-a0e9-4f74-8559-62f43bdcabea.jpeg" alt="Author avatar" class="jsx-3841407315" /></p>
<p>Gaurav Singhal</p>
<h1 id="create-a-link-that-an-app-will-open-in-a-popup">Create a Link that an App will Open in a Popup</h1>
<h3 id="gaurav-singhal">Gaurav Singhal</h3>
<ul>
<li><p>Nov 17, 2020</p></li>
<li><p>6 Min read</p></li>
<li><p>8,094 Views</p></li>
<li><p>Nov 17, 2020</p></li>
<li><p><span class="jsx-3759398792" itemprop="timeRequired">6 Min</span> read</p></li>
<li><p>8,094 Views</p></li>
</ul>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Front End Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Client-side Frameworks</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">React</span></p>
<p>Introduction</p>
<p>7</p>
<ul>
<li><a href="#module-introduction" class="menu-link">Introduction</a></li>
<li><a href="#module-implementation" class="menu-link">Implementation</a></li>
<li><a href="#module-setup" class="menu-link">Setup</a></li>
<li><a href="#module-creatingthewrappercomponent" class="menu-link">Creating the Wrapper Component</a></li>
<li><a href="#module-creatingarelativelink" class="menu-link">Creating a Relative Link</a></li>
<li><a href="#module-conclusion" class="menu-link">Conclusion</a></li>
<li><a href="#top" class="menu-link">Top</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>To retain users of an app, you might want to show them content from an external source via hyperlinks without navigating them away from your app. In such situations, you can implement a React component that opens external links in a popup. This allows the user to stay on your app and still access external content. In this guide, you’ll learn how to create a link that the application can conditionally open in a popup.</p>
<h2 id="implementation">Implementation</h2>
<p>The idea is to create a <em>wrapper component</em> that creates a <span class="jsx-3120878690"><code>URL object</code></span> for any link passed to it and decides if it’s an external link or an internal link by checking the <span class="jsx-3120878690"><code>hostname</code></span> of the link. For an internal link, it simply renders that link, and in all other cases, it renders an <span class="jsx-3120878690"><code>iframe</code></span> in a popup showing that external link’s source.</p>
<h2 id="setup">Setup</h2>
<p>In an empty React project, install React-Router-Dom</p>
<pre><code>1npm i react-router-dom</code></pre>
<p>shell</p>
<p>Instead of creating a custom modal component, this example will use React-Bootstrap’s modal component. You can create a custom modal component or use any other UI library you are comfortable with.</p>
<p>Install React Bootstrap and Bootstrap.</p>
<pre><code>1npm i react-bootstrap bootstrap</code></pre>
<p>shell</p>
<p>Create a file in the root folder called <span class="jsx-3120878690"><code>environment.js</code></span> and add a constant that stores the hostname of your app.</p>
<pre><code>1export const HOSTNAME=&quot;localhost&quot;;</code></pre>
<p>shell</p>
<p>Since your app is in <em>local development</em>, all routes will be relative to <span class="jsx-3120878690"><code>localhost</code></span>. However, when you push this app to production, you should put the domain name of your app here.</p>
<h2 id="creating-the-wrapper-component">Creating the Wrapper Component</h2>
<p>Create a wrapper component for your link called <span class="jsx-3120878690"><code>LinkWrapper</code></span> that takes in the link as <span class="jsx-3120878690"><code>props</code></span> and generates a complete <span class="jsx-3120878690"><code>URL object</code></span> for that link. If the <span class="jsx-3120878690"><code>hostname</code></span> of the URL is the same as <span class="jsx-3120878690"><code>HOSTNAME</code></span> in your environment, then you need to simply render that link. If it’s an external website, render a modal component from React Bootstrap with an <span class="jsx-3120878690"><code>iframe</code></span> pointing to the external link. Below is the complete code for the <span class="jsx-3120878690"><code>LinkWrapper</code></span> component.</p>
<pre><code>1import React,{useState} from &#39;react&#39;;
2import { Modal, Button } from &quot;react-bootstrap&quot;;
3import {HOSTNAME} from &#39;./environment&#39;;
4
5export default function LinkWrapper({link}) {    
6    const [show, setShow] = useState(false);
7    const handleClose = () =&gt; setShow(false);
8    const handleShow = () =&gt; setShow(true);
9
10    const url = new URL(link)
11    console.log(url)
12    if (url.hostname === HOSTNAME ) return &lt;a target=&quot;_blank&quot; href={link}&gt;{link}&lt;/a&gt;
13    else
14    return (
15      &lt;&gt;
16        &lt;Button variant=&quot;primary&quot; onClick={handleShow}&gt;
17          Open Link
18        &lt;/Button&gt;
19  
20        &lt;Modal show={show} onHide={handleClose}&gt;
21            &lt;Modal.Title&gt;Link Popup&lt;/Modal.Title&gt;
22          &lt;Modal.Body&gt;&lt;iframe src={link} style={{width:&#39;100%&#39;,height:&#39;400px&#39;}}/&gt;&lt;/Modal.Body&gt;
23          &lt;Modal.Footer&gt;
24            &lt;Button variant=&quot;secondary&quot; onClick={handleClose}&gt;
25              Close
26            &lt;/Button&gt;
27          &lt;/Modal.Footer&gt;
28        &lt;/Modal&gt;
29      &lt;/&gt;
30    );
31  }</code></pre>
<p>jsx</p>
<p>You can learn how the React-Bootstrap modal is used here by following the example in the official documentation: <a href="https://react-bootstrap.netlify.app/components/modal/#modals" class="uri">https://react-bootstrap.netlify.app/components/modal/#modals</a>.</p>
<h2 id="creating-a-relative-link">Creating a Relative Link</h2>
<p>In order to test local links, you need to create a relative route for your app. Create a simple <span class="jsx-3120878690"><code>About</code></span> component, as shown below.</p>
<pre><code>1import React from &#39;react&#39;
2
3export const About = () =&gt; {
4    return (
5        &lt;div&gt;
6            &lt;h1&gt;This is the about component&lt;/h1&gt;
7            &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo quae distinctio provident vero rerum expedita earum eius sint quos dolorum illum temporibus quidem in ipsa, ad beatae, repudiandae facilis aliquid?&lt;/p&gt;
8        &lt;/div&gt;
9    )
10}</code></pre>
<p>jsx</p>
<p>Inside <span class="jsx-3120878690"><code>App.js</code></span>, add the route and render the <span class="jsx-3120878690"><code>LinkWrapper</code></span> component created in the previous section.</p>
<pre><code>1import &#39;bootstrap/dist/css/bootstrap.min.css&#39;;
2import &#39;./App.css&#39;;
3import LinkWrapper from &#39;./LinkWrapper&#39;;
4import {
5  BrowserRouter,
6  Route,
7} from &quot;react-router-dom&quot;;
8import { About } from &#39;./About&#39;;
9
10function App() {
11  return (
12    &lt;div className=&quot;App&quot;&gt;
13      &lt;BrowserRouter&gt;
14        &lt;LinkWrapper/&gt;
15        &lt;Route path=&quot;/about&quot;&gt;
16          &lt;About/&gt;
17        &lt;/Route&gt;
18      &lt;/BrowserRouter&gt;
19    &lt;/div&gt;
20  );
21}
22
23export default App;</code></pre>
<p>jsx</p>
<p>To test it out, create two links, an external link and an internal link, as shown below.</p>
<pre><code>1  const external_link=&quot;https://reactrouter.com/web/guides/quick-start&quot;;
2  const internal_link=&quot;http://localhost:3001/about&quot;</code></pre>
<p>javascript</p>
<p>The <span class="jsx-3120878690"><code>external_link</code></span> should open in a popup and the <span class="jsx-3120878690"><code>internal_link</code></span> should render as a regular link. Pass both these links one by one to the <span class="jsx-3120878690"><code>LinkWrapper</code></span> component as <span class="jsx-3120878690"><code>props</code></span>.</p>
<pre><code>1&lt;LinkWrapper link={external_link}/&gt;</code></pre>
<p>javascript</p>
<p>The <span class="jsx-3120878690"><code>LinkWrapper</code></span> component renders an <strong>Open Link</strong> button that opens the link in a popup. Changing the link <span class="jsx-3120878690"><code>props</code></span> to <span class="jsx-3120878690"><code>internal_link</code></span> simply renders the link that opens in a new tab.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The underlying concept for creating such a component is <em>conditional rendering</em>. You can use the same concept for opening registration forms in a popup or rendering external images in your app. You can use this approach in situations where you might want to show certain content to the user based on the time they have spent on your app without creating a session, allowing them to log in to access more content by opening a login form popup. You can also open external videos in a popup inside an <span class="jsx-3120878690"><code>iframe</code></span> that can be used in video streaming apps to show quick teasers and trailers to your users. If you have any questions, feel free to contact me at <a href="https://www.codealphabet.com/contact">CodeAlphabet</a>.</p>
<p>7</p>
<p><a href="https://www.pluralsight.com/product/paths"><span data-css-15b13by="" aria-hidden="false">LEARN MORE</span></a></p>
</body>
</html>
