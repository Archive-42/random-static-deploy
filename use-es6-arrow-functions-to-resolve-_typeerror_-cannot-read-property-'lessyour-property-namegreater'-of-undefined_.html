<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>use-es6-arrow-functions-to-resolve-_typeerror_-cannot-read-property-'lessyour-property-namegreater'-of-undefined_</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><span data-css-15b13by="" aria-hidden="false">Get started</span></p>
<p><span data-css-15b13by="" aria-hidden="false">Log in</span></p>
<p><img src="../../pluralsight.imgix.net/author/lg/b80bbd58-40e1-4db4-a8e5-12bb0fecc089.png" alt="Author avatar" class="jsx-3841407315" /></p>
<p>Zachary Bennett</p>
<h1 id="use-es6-arrow-functions-to-resolve-typeerror-cannot-read-property-your-property-name-of-undefined">Use ES6 Arrow Functions to Resolve “TypeError: Cannot read property ‘&lt;your property name&gt;’ of undefined”</h1>
<h3 id="zachary-bennett">Zachary Bennett</h3>
<ul>
<li><p>Oct 13, 2020</p></li>
<li><p>5 Min read</p></li>
<li><p>15,207 Views</p></li>
<li><p>Oct 13, 2020</p></li>
<li><p><span class="jsx-3759398792" itemprop="timeRequired">5 Min</span> read</p></li>
<li><p>15,207 Views</p></li>
</ul>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Front End Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Client-side Frameworks</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">React</span></p>
<p>Introduction</p>
<p>18</p>
<ul>
<li><a href="#module-introduction" class="menu-link">Introduction</a></li>
<li><a href="#module-theproblemandaninitialsolution" class="menu-link">The Problem and an Initial Solution</a></li>
<li><a href="#module-thees6solution" class="menu-link">The ES6 Solution</a></li>
<li><a href="#module-conclusion" class="menu-link">Conclusion</a></li>
<li><a href="#top" class="menu-link">Top</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>If you are a React developer or are just learning to program in JavaScript, you might have run into this dreaded error while trying to read a property off of the <span class="jsx-3120878690"><code>this</code></span> keyword:</p>
<pre><code>1TypeError: Cannot read property &#39;&lt;your property name&gt;&#39; of undefined</code></pre>
<p>If you run into this error while writing React, the odds are high that you are trying to use a function within another function and are trying to access the <span class="jsx-3120878690"><code>this</code></span> keyword within the nested function. But why does this happen?</p>
<p>This guide will dive into how function scope works in JavaScript. You will learn why this error occurs and what you can do to fix it.</p>
<p>Let’s get started.</p>
<h2 id="the-problem-and-an-initial-solution">The Problem and an Initial Solution</h2>
<p>Let’s say that you have just written a small React Component that looks like this:</p>
<pre><code>1class FishSpecies Extends React.Component {
2    constructor(props) {
3        super(props);
4        this.state = {
5            clickCount: 0
6        };
7    }
8
9    onFishClicked() {
10        this.setState(function(prevState, props) {
11            return { clickCount:  prevState.clickCount + 1 };
12        });
13    }
14
15    render() {
16        return (
17            &lt;ul&gt;
18                {{ this.props.fish.map(function(fish) {
19                    return &lt;Fish name={fish.name} onClick={this.onFishClicked} /&gt;
20                })}}
21            &lt;/ul&gt;
22        )
23    }
24}</code></pre>
<p>jsx</p>
<p>At first, this component looks pretty straightforward. All this component does is receive a list of fish objects via props and render a <span class="jsx-3120878690"><code>Fish</code></span> component for each one, passing down a couple of props to each fish. However, if you create this component and add to a real React app, it will fail. You will see an error that looks like:</p>
<pre><code>1TypeError: Cannot read property &#39;onFishClicked&#39; of undefined</code></pre>
<p>Oh no, there it is—the dreaded TypeError! So, why is this happening? This error informs you that <span class="jsx-3120878690"><code>this</code></span> is undefined. Specifically, <span class="jsx-3120878690"><code>onClick={this.onFishClicked}</code></span> fails for this reason. The reason the code is unable to access <span class="jsx-3120878690"><code>this</code></span> here is because of how scope works in JavaScript.</p>
<p>Under the hood, functions are objects in JavaScript. When you create a function in JavaScript, it gets its own scope depending upon the context in which it is instantiated. In this case, there actually is no context, and so <span class="jsx-3120878690"><code>this</code></span> is actually <span class="jsx-3120878690"><code>undefined</code></span>! Essentially, the code is running in <span class="jsx-3120878690"><code>strict</code></span> mode within the React framework and so the global context is not used in favor of no context at all. Check out <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">these docs</a> for more info.</p>
<p>So how can you fix this? Well, you have a number of options. In the following section will demonstrate the best and most modern means of fixing this error.</p>
<h2 id="the-es6-solution">The ES6 Solution</h2>
<p>So you’ve diagnosed the problem. You need to make sure that your functions have access to the <span class="jsx-3120878690"><code>this</code></span> context of your class component! To do this, you can use ES6 arrow functions.</p>
<p>Apart from making your code more succinct and readable, arrow functions serve another purpose. It is not immediately obvious, but arrow functions play a big part in how context is passed down to functions. Essentially, when you declare a function using the arrow syntax you are telling the JavaScript code to bind the current context of <span class="jsx-3120878690"><code>this</code></span> into the new function that is being created. This is not immediately obvious because this binding is done implicitly as compared to the explicit means of binding <span class="jsx-3120878690"><code>this</code></span> by using the <span class="jsx-3120878690"><code>.bind</code></span> method.</p>
<p>Let’s see how you can use arrow functions to fix your code!</p>
<pre><code>1class FishSpecies Extends React.Component {
2    constructor(props) {
3        super(props);
4        this.state = {
5            clickCount: 0
6        }
7    }
8
9    onFishClicked() {
10        this.setState((prevState, props) =&gt; {
11            return { clickCount:  prevState.clickCount + 1 };
12        });
13    }
14
15    render() {
16        return (
17            &lt;ul&gt;
18                {{ this.props.fish.map(fish =&gt; {
19                    return &lt;Fish name={fish.name} onClick={this.onFishClicked} /&gt;
20                })}}
21            &lt;/ul&gt;
22        )
23    }
24}</code></pre>
<p>jsx</p>
<p>Voila! It was a simple change to both of the <span class="jsx-3120878690"><code>function</code></span> declarations above, but now your dreaded TypeError is gone because the function you are passing into <span class="jsx-3120878690"><code>Array.map</code></span> within the <span class="jsx-3120878690"><code>render</code></span> function has access to your component’s <span class="jsx-3120878690"><code>this</code></span> context. And this was all accomplished simply by changing how you declared your function.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Arrow functions are a powerful means of binding the current context of <span class="jsx-3120878690"><code>this</code></span> into nested functions. Unfortunately, this major benefit is implicit and so you would never know about it just by looking at its usage. Most, if not all, of your function declarations within your React components should be declared as arrow functions. Doing this will help you to avoid confusion when it comes to the context of <span class="jsx-3120878690"><code>this</code></span> and what it gets bound to.</p>
<p>For more information on the <span class="jsx-3120878690"><code>this</code></span> keyword in relation to function scope, please check out the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this">Mozilla JavaScript developer documentation</a>.</p>
<p>18</p>
<p><a href="https://www.pluralsight.com/product/paths"><span data-css-15b13by="" aria-hidden="false">LEARN MORE</span></a></p>
</body>
</html>
