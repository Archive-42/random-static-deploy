<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>create-a-simple-react.js-component-with-backed-node</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<p><span data-css-15b13by="" aria-hidden="false">Get started</span></p>
<p><span data-css-15b13by="" aria-hidden="false">Log in</span></p>
<p><img src="../../pluralsight.imgix.net/author/lg/44cbcce0-5f4f-499e-8ec4-29fc953fc992.jpg" alt="Author avatar" class="jsx-3841407315" /></p>
<p>Raphael Alampay</p>
<h1 id="create-a-simple-react.js-component-with-backed-node.js-api">Create a Simple React.js Component with Backed Node.js API</h1>
<h3 id="raphael-alampay">Raphael Alampay</h3>
<ul>
<li><p>Oct 10, 2020</p></li>
<li><p>7 Min read</p></li>
<li><p>17,495 Views</p></li>
<li><p>Oct 10, 2020</p></li>
<li><p><span class="jsx-3759398792" itemprop="timeRequired">7 Min</span> read</p></li>
<li><p>17,495 Views</p></li>
</ul>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Front End Web Development</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">Client-side Frameworks</span></p>
<p><span class="jsx-3759398792"></span></p>
<p><span data-css-1997kh1="">React</span></p>
<p>Summary</p>
<p>57</p>
<ul>
<li><a href="#module-summary" class="menu-link">Summary</a></li>
<li><a href="#module-settinguptheserver" class="menu-link">Setting up the Server</a></li>
<li><a href="#module-runningtheserver" class="menu-link">Running the Server</a></li>
<li><a href="#module-creatingthereactjsfrontend" class="menu-link">Creating the React.js Frontend</a></li>
<li><a href="#module-overallcode" class="menu-link">Overall Code</a></li>
<li><a href="#module-conclusion" class="menu-link">Conclusion</a></li>
<li><a href="#top" class="menu-link">Top</a></li>
</ul>
<h2 id="summary">Summary</h2>
<p>Becoming a full-stack web developer can involve a steep learning curve since, at the very least, you’ll have to learn how to code in three domains: 1) the persistence layer, 2) the application layer, which provides the logic, and 3) the view layer for rendering interfaces that the user can interact with. In most cases, each of these layers will be implemented in a different programming language, thus increasing the amount of material you’ll have to learn. However, with Javascript, you can easily use a single programming language that encompasses all three layers making the learning experience a little bit more manageable.</p>
<p>In this guide, we’ll take a look at how to build a simple backend server using Javascript Node.js as the application layer and React.js as the view layer that interacts with the backend to simulate the full stack experience.</p>
<h2 id="setting-up-the-server">Setting up the Server</h2>
<p>The server application you’ll be creating will be a mock API endpoint that returns JSON data. Start off by creating a Javascript file called <span class="jsx-3120878690"><code>app.js</code></span> with the following content:</p>
<pre><code>1var http = require(&#39;http&#39;);
2
3var hostname  = &#39;127.0.0.1&#39;;
4var port      = 3000;
5
6var app = http.createServer(function(req, res) {
7            res.setHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);
8
9            res.end(
10              JSON.stringify({
11                firstName: &quot;John&quot;,
12                lastName: &quot;Doe&quot;
13              })
14            );
15          });
16
17app.listen(port, hostname);</code></pre>
<p>javascript</p>
<p>Using plain Javascript and Node.js, you can easily create a server application server that acts as an endpoint. The line <span class="jsx-3120878690"><code>res.setHeader('Content-Type',                                       'application/json')</code></span> forces the response to return data as JSON. The function <span class="jsx-3120878690"><code>res.end()</code></span> accepts a string version of a JSON object that contains a <span class="jsx-3120878690"><code>firstName</code></span> and a <span class="jsx-3120878690"><code>lastName</code></span>, which will be the payload of this endpoint. The server application is started by running the line <span class="jsx-3120878690"><code>app.listen(port, hostname)</code></span>, whose parameters are set to the localhost and port number 3000 of the host machine.</p>
<h2 id="running-the-server">Running the Server</h2>
<p>Issue the following command in your terminal to start running the server:</p>
<pre><code>1$ node app.js</code></pre>
<p>bash</p>
<p>Using your browser, visit the URL <span class="jsx-3120878690"><code>http://localhost:3000</code></span> and you should see the JSON object being returned with the following form:</p>
<pre><code>1{
2  &quot;firstName&quot;: &quot;John&quot;,
3  &quot;lastName&quot;: &quot;Doe&quot;
4}</code></pre>
<p>json</p>
<p>Once you’ve verified that your mock endpoint is working, perform the same action, but this time programmatically using a React.js frontend component.</p>
<h2 id="creating-the-react.js-frontend">Creating the React.js Frontend</h2>
<p>Start off by creating a React component called <span class="jsx-3120878690"><code>PersonComponent</code></span> with the following code:</p>
<pre><code>1import React from &#39;react&#39;;
2import $ from &#39;jquery&#39;;
3
4export default class PersonComponent extends React.Component {
5  constructor(props) {
6    super(props);
7
8    this.state = {
9      firstName: &quot;&quot;,
10      lastName: &quot;&quot;
11    }
12  }
13
14  render() {
15    return (
16      &lt;div&gt;
17        &lt;h1&gt;{this.state.firstName} {this.state.LastName}&lt;/h1&gt;
18      &lt;/div&gt;
19    );
20  }
21}</code></pre>
<p>javascript</p>
<p>This vanilla component will simply display the <span class="jsx-3120878690"><code>firstName</code></span> and <span class="jsx-3120878690"><code>lastName</code></span> state values. Initially, these values are set as an empty string.</p>
<p>Next, create a method that fetches data from your backend API, whose endpoint is <span class="jsx-3120878690"><code>http://localhost:3000</code></span>. Create the following <span class="jsx-3120878690"><code>fetch</code></span> method in your component:</p>
<pre><code>1fetch() {
2  var context = this;
3
4  $.ajax({
5    url: &#39;http://localhost:3000&#39;,
6    method: &#39;GET&#39;,
7    success: function(response) {
8      context.setState({
9        firstName: response.firstName,
10        lastName: response.lastName
11      });
12    }
13  });
14}</code></pre>
<p>javascript</p>
<p>You first create a reference <span class="jsx-3120878690"><code>context</code></span> whose value is <span class="jsx-3120878690"><code>this</code></span>, referring to the instance of your component. This will be used later on in the logic of the success function after the code has made a successful call to the API backend. <span class="jsx-3120878690"><code>context</code></span> will then invoke <span class="jsx-3120878690"><code>setState</code></span> and update the React.js component’s state values coming from <span class="jsx-3120878690"><code>response</code></span>, which in turn is the JSON object that was returned by the API.</p>
<p>The last thing to do is invoke <span class="jsx-3120878690"><code>fetch</code></span> automatically when the component is first mounted. To do so, override the React.js component method <span class="jsx-3120878690"><code>componentDidMount()</code></span> with the following logic:</p>
<pre><code>1componentDidMount() {
2  this.fetch();
3}</code></pre>
<p>javascript</p>
<p>All that will do is call <span class="jsx-3120878690"><code>fetch</code></span> once the component has been successfully mounted. In turn, <span class="jsx-3120878690"><code>fetch</code></span> will interact with the API, update the state, and force a re-render of the view with the updated values, thus completing the cycle.</p>
<h2 id="overall-code">Overall Code</h2>
<p>The final code will look like the following:</p>
<h3 id="server-application">Server Application</h3>
<pre><code>1var http = require(&#39;http&#39;);
2
3var hostname  = &#39;127.0.0.1&#39;;
4var port      = 3000;
5
6var app = http.createServer(function(req, res) {
7            res.setHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);
8
9            res.end(
10              JSON.stringify({
11                firstName: &quot;John&quot;,
12                lastName: &quot;Doe&quot;
13              })
14            );
15          });
16
17app.listen(port, hostname);</code></pre>
<p>javascript</p>
<h3 id="reactjs-frontend">ReactJS Frontend</h3>
<pre><code>1import React from &#39;react&#39;;
2import $ from &#39;jquery&#39;;
3
4export default class PersonComponent extends React.Component {
5  constructor(props) {
6    super(props);
7
8    this.state = {
9      firstName: &quot;&quot;,
10      lastName: &quot;&quot;
11    }
12  }
13
14  componentDidMount() {
15    this.fetch();
16  }
17
18  fetch() {
19    var context = this;
20
21    $.ajax({
22      url: &#39;http://localhost:3000&#39;,
23      method: &#39;GET&#39;,
24      success: function(response) {
25        context.setState({
26          firstName: response.firstName,
27          lastName: response.lastName
28        });
29      }
30    });
31  }
32
33  render() {
34    return (
35      &lt;div&gt;
36        &lt;h1&gt;{this.state.firstName} {this.state.LastName}&lt;/h1&gt;
37      &lt;/div&gt;
38    );
39  }
40}</code></pre>
<p>javascript</p>
<h2 id="conclusion">Conclusion</h2>
<p>In this guide, you’ve seen how to use a single programming language to implement both the backend and frontend components of your app. This shortens the learning curve since you only have to focus on learning one programming language instead of a variety of languages that deal with different layers of your system. In most cases, this can prove to be a much more agile approach to building applications since you can devote your time to going deeper with Javascript and understanding its more advanced intricacies while still being able to contribute to all parts of your tech stack. Adding a persistence layer will be easier as well since you just have to look for an abstraction layer, also written in Javascript, that provides API calls for the underlying database.</p>
<p>For any questions or concerns, or if you simply want to chat about programming in general, hit me up <span class="citation" data-cites="happyalampay">[@happyalampay]</span>(https://twitter.com/happyalampay)!</p>
<p>57</p>
<p><a href="https://www.pluralsight.com/product/paths"><span data-css-15b13by="" aria-hidden="false">LEARN MORE</span></a></p>
</body>
</html>
